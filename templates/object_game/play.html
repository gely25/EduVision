{% extends 'base.html' %}
{% load static %}

{% block title %}Juego - EduVision{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/object_game/play.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}

{% block content %}
<div class="game-container">
  <h2>ğŸ¯ Â¡MuÃ©strame el objeto correcto!</h2>

  <div class="status">
    <p id="instruccion">Cuando estÃ©s listo, activa tu cÃ¡mara ğŸ‘‡</p>
    <p><strong>Puntaje:</strong> <span id="score">0</span> / 50</p>
  </div>

  <!-- ğŸ“¸ SecciÃ³n de cÃ¡mara -->
  <div class="video-wrapper" id="videoContainer">
    <div class="status-badge" id="statusBadge" style="display: none;">
      <i class="fas fa-circle"></i> <span id="statusText">En vivo</span>
    </div>

    <!-- ğŸ”’ Estado: cÃ¡mara inactiva -->
    <div class="camera-inactive" id="cameraInactive">
      <i class="fas fa-video-slash camera-icon"></i>
      <h3>CÃ¡mara desactivada</h3>
      <p>Activa tu cÃ¡mara para comenzar la partida y mostrar los objetos que aprendiste ğŸ“š</p>
      <button class="btn" id="startCameraBtn">
        <i class="fas fa-play"></i> Activar cÃ¡mara
      </button>

      <!-- Nuevo botÃ³n siguiente -->
      <button class="btn" id="nextBtn" style="display:none;">â¡ï¸ Siguiente objeto</button>
    </div>

    <!-- ğŸ¥ Vista de cÃ¡mara en vivo -->
    <img id="tm-frame" src="" alt="Vista TM" style="display:none;">
  </div>

  <!-- ğŸ§  Estado de juego -->
  <p id="feedback" class="feedback"></p>

  <button class="btn-secondary" id="finishBtn" style="display:none;">ğŸ Terminar partida</button>

  <div class="eva-avatar">
    <img src="{% static 'img/eva-bot.png' %}" alt="Eva bot">
  </div>
</div>

<script>
  const palabrasJuego = {{ palabras|safe }};
</script>

{% block extra_js %}
<script src="{% static 'js/object_game/play.js' %}"></script>
{% endblock %}
{% endblock %}
